(function(){!function(t){return t.fn.imgPreload=function(e){var a,r,i,n,o,d,s,h,u,f,l;for(d={fake_delay:10,animation_duration:1e3,spinner_src:"spinner.gif"},e&&t.extend(d,e),i=[],n=[],s=[],window.delay_completed=!1,a=function(){var e,a,r,n;for(window.delay_completed=!0,n=[],a=0,r=i.length;r>a;a++)e=i[a],n.push("true"===t(e).attr("data-load-after-delay")?(o(e),t(e).removeAttr("data-load-after-delay")):void 0);return n},setTimeout(a,d.fake_delay),this.each(function(){var e,a,r,o,h;return e=t(this),h=e.offset().top,o=e.offset().left,r=t("<img>"),a=t("<img>").attr({src:"data:image/gif;base64,R0lGODlhAQABA                IABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),a.attr({width:e.attr("width")}),a.attr({height:e.attr("height")}),s.push(r),n.push(a),i.push(e.replaceWith(a)),t("body").append(r),r.css({position:"absolute"}),r.css("z-index",9999),r.load(function(){return t(this).css({left:o+a.width()/2-t(this).width()/2}),t(this).css({top:h+a.height()/2-t(this).height()/2})}),r.attr({src:d.spinner_src})}),r=0,f=0,l=i.length;l>f;f++)u=i[f],u.attr({no:r++}),h=u.attr("src"),u.attr({src:""}),u.load(function(){return window.delay_completed?o(this):t(this).attr("data-load-after-delay",!0)}),u.attr({src:h});return o=function(e){var a,r;return a=t(e),r=a.attr("no"),n[r].replaceWith(a),s[r].fadeOut(d.animation_duration/2,function(){return t(this).remove()}),a.fadeOut(0).fadeIn(d.animation_duration)},this}}(jQuery)}).call(this);